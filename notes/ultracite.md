# ä½¿ç”¨ Ultracite å‘Šåˆ« ESLint å’Œ Prettier çš„é…ç½®åœ°ç‹±

> â€œè¿‡å»åå¹´ï¼Œæˆ‘ä»¬ä¸ºä»£ç è§„èŒƒæµªè´¹äº†å¤ªå¤šåˆ›é€ åŠ›ã€‚è€Œ Ultracite è®©å·¥å…·å›å½’æœ¬è´¨â€”â€”æ²‰é»˜åœ°æœåŠ¡ï¼Œè€Œéå–§å®¾å¤ºä¸»ã€‚â€ â€”â€” Shadcn UI ä½œè€…æ¨è

Shadcn UI çš„ä½œè€…é‡åˆ°é—®é¢˜ï¼Œç›¸ä¿¡ä¸æ˜¯å°éƒ¨åˆ†å‰ç«¯å¼€å‘åŒå­¦æ‰ä¼šé‡åˆ°çš„ã€‚å‡ºäºå¯¹ä»£ç çš„æ´ç™–ï¼Œæˆ‘åœ¨è¿‡å»çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œ å¯¹eslintã€prettierã€githookã€ä»£ç ä¿å­˜æ ¼å¼åŒ–è¿›è¡Œé…ç½®æ˜¯æˆ‘åˆå§‹åŒ–é¡¹ç›®åé¦–å…ˆè¦åšçš„äº‹æƒ…ï¼Œè¿™ä¼šèŠ±è´¹æˆ‘å¤§é‡çš„æ—¶é—´ï¼Œå› ä¸ºå¸‚é¢ä¸Šä¸»æµçš„ä»£ç ç”Ÿæˆè„šæ‰‹æ¶å·¥å…·å¤§éƒ½æä¾›å…¶ä¸­ä¸€éƒ¨åˆ†èƒ½åŠ›ï¼Œæ¯”å¦‚åªæä¾›äº† eslint çš„é…ç½®ï¼Œæ²¡æœ‰æä¾› prettier çš„é…ç½®ï¼Œæˆ–è€…æ˜¯æ²¡æœ‰ githook çš„èƒ½åŠ›ï¼Œæ›´åˆ«æå¤§éƒ¨åˆ†çš„è„šæ‰‹æ¶æ²¡æœ‰æä¾›åœ¨ vsCodeã€zedã€cursor ç­‰ç¼–è¾‘å™¨ä¸­è‡ªåŠ¨æ ¼å¼åŒ–çš„é…ç½®ã€ä¸åŒçš„æ¡†æ¶éœ€è¦å¼•ç”¨ä¸åŒçš„ eslint æ’ä»¶ã€‚

è®©æˆ‘ä»¬ä» Ultracite æ˜¯ä»€ä¹ˆå¼€å§‹ï¼Œçœ‹ä¸€ä¸‹ Ultracite æ˜¯å¦‚ä½•å¸®å¿™æˆ‘ä»¬å¿«é€Ÿè§£å†³è¿™äº›ç¹æ‚çš„é…ç½®çš„ã€‚

## Ultracite æ˜¯ä»€ä¹ˆï¼Ÿ

> [biome](https://biomejs.dev/zh-cn/) è¶…é›†ï¼ŒWeb é¡¹ç›®å¼€å‘çš„ä¸€ä½“åŒ–å·¥å…·é“¾, é›†åˆäº† eslint å’Œ prettier çš„èƒ½åŠ›

- å®šä¹‰ â€‹ï¼šåŸºäº Biome çš„é›¶é…ç½®å¼€å‘åŠ©æ‰‹ï¼Œå°†ä»£ç æ£€æŸ¥ã€æ ¼å¼åŒ–ã€Git æµç¨‹ã€AI åä½œå°è£…ä¸ºä¸€ä½“åŒ–å·¥å…·é“¾ã€‚
- å®šä½ â€‹ï¼šéç‹¬ç«‹å·¥å…·ï¼Œè€Œæ˜¯ Biomeï¼ˆRust ç¼–å†™çš„ ESLint + Prettier æ›¿ä»£å“ï¼‰çš„â€œæœ€ä½³å®è·µå°è£…â€ã€‚
- ä½¿å‘½ â€‹ï¼šæ¶ˆé™¤å‰ç«¯å¼€å‘ä¸­ 80% çš„é…ç½®æˆæœ¬ï¼Œè®©å¼€å‘è€…ä¸“æ³¨ä¸šåŠ¡é€»è¾‘è€Œéå·¥å…·è°ƒè¯•

## ä¼ ç»Ÿå·¥å…·é“¾çš„å›°å¢ƒ

1. â€‹ æ€§èƒ½ç“¶é¢ˆ â€‹

   ESLint å’Œ Prettier åŸºäº JavaScript å•çº¿ç¨‹è¿è¡Œï¼Œåœ¨å¤§å‹é¡¹ç›®ä¸­æ ¼å¼åŒ–é€Ÿåº¦æ˜¾è‘—ä¸‹é™ï¼Œä¿å­˜æ–‡ä»¶æ—¶è‚‰çœ¼å¯è§å»¶è¿Ÿã€‚

2. è§„åˆ™å†²çªä¸å·¥å…·é“¾å†—ä½™ â€‹

   ESLint ä¸ Prettier èŒè´£é‡å å¼•å‘â€œæ ¼å¼åŒ–æˆ˜äº‰â€ï¼š

   - è§„åˆ™æ‰“æ¶ â€‹ï¼šESLint çš„ quotes: ["error", "double"] ä¸ Prettier çš„ singleQuote: true å†²çªï¼Œéœ€ä¾èµ– eslint-config-prettier ç¦ç”¨å†²çªè§„åˆ™
   - â€‹ æ’ä»¶ä¾èµ–é»‘æ´ â€‹ï¼šæ”¯æŒ TypeScript éœ€å®‰è£… @typescript-eslint/parser+eslint-plugin-vue+prettier-plugin-tailwindcss ç­‰ï¼Œç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜é¢‘å‘ï¼ˆå¦‚ stylelint v15 æ’ä»¶ä¸å…¼å®¹ Viteï¼‰

3. â€‹ è„šæ‰‹æ¶ç”Ÿæ€ç¢ç‰‡åŒ–ï¼Œé»˜è®¤è§„åˆ™ä¸ç»Ÿä¸€ â€‹ï¼Œé…ç½®å†²çª â€‹

   ä¸»æµè„šæ‰‹æ¶ï¼ˆå¦‚ create-react-appã€Vue CLIã€Viteï¼‰è™½æä¾›å¼€ç®±é…ç½®ï¼Œä½†å­˜åœ¨æ˜¾è‘—é—®é¢˜ï¼š

   - è§„åˆ™å‰²è£‚ â€‹ï¼šcreate-react-app é»˜è®¤å¯ç”¨ airbnb è§„åˆ™ï¼Œè€Œ Vue CLI é‡‡ç”¨ standard è§„èŒƒï¼Œå›¢é˜Ÿåˆ‡æ¢æŠ€æœ¯æ ˆæ—¶éœ€é‡æ–°ç»Ÿä¸€è§„åˆ™
   - é…ç½®è¦†ç›–æˆæœ¬é«˜ â€‹ï¼šè¿ç§»æ—§é¡¹ç›®æ—¶ï¼Œéœ€æ‰‹åŠ¨åˆå¹¶ .eslintrc ä¸è„šæ‰‹æ¶é»˜è®¤è§„åˆ™ï¼Œå¸¸å›  extends é¡ºåºå†²çªå¯¼è‡´æ ¡éªŒå¤±æ•ˆ

   > ç¤ºä¾‹ï¼šæŸå›¢é˜Ÿä» CRA è¿ç§»è‡³ Viteï¼ŒèŠ±è´¹ â€‹3 å°æ—¶ â€‹ è§£å†³ import/no-extraneous-dependencies è§„åˆ™å†²çª

4. Git Hook ä¸ç¼–è¾‘å™¨é…ç½®çš„â€œéšè—æˆæœ¬â€â€‹â€‹
   å¸‚é¢è„šæ‰‹æ¶å‡ä¸å†…ç½®å®Œæ•´å·¥ä½œæµï¼Œå¼€å‘è€…éœ€æ‰‹åŠ¨è¡¥å…¨ï¼š

   - Git Hook ç»„è£… â€‹ï¼šéœ€ç‹¬ç«‹é…ç½® husky + lint-stagedï¼Œè°ƒè¯• pre-commit é’©å­è§¦å‘é€»è¾‘å¸¸è€—è´¹ â€‹1-2 å°æ—¶
   - ç¼–è¾‘å™¨åŒæ­¥éš¾é¢˜ â€‹ï¼šå›¢é˜Ÿæˆå‘˜éœ€ç»Ÿä¸€é…ç½® VSCode çš„ settings.jsonï¼ˆå¦‚ "editor.formatOnSave": trueï¼‰ï¼Œå¦åˆ™å‡ºç°â€œæœ¬åœ°ä¸æŠ¥é”™ï¼ŒCI æ‹¦æˆªæäº¤â€çš„åä½œæ•…éšœ

5. â€‹AI åä½œæ–­å±‚ â€‹

   AI å·¥å…·ï¼ˆå¦‚ Copilotï¼‰æ— æ³•è¯»å–é¡¹ç›®è§„èŒƒï¼Œéœ€äººå·¥ç²˜è´´è§„åˆ™ï¼Œé™·å…¥â€œç”Ÿæˆ â†’ æŠ¥é”™ â†’ è°ƒæç¤ºè¯â€çš„å¾ªç¯ã€‚

## å¼€å‘æ•ˆç‡çš„è¿›åŒ–æ–¹å‘

Ultracite çš„ä¸‰å¤§è®¾è®¡åŸåˆ™ï¼š

- é›¶é…ç½® â€‹ï¼šä¸€é”®åˆå§‹åŒ–ï¼Œå¼€ç®±å³ç”¨è§„åˆ™é›†è¦†ç›–ä¸»æµåœºæ™¯ã€‚
- é«˜æ€§èƒ½ â€‹ï¼šåŸºäº Rust å†…æ ¸ï¼Œè§„é¿ JS å•çº¿ç¨‹æ€§èƒ½å¤©èŠ±æ¿ã€‚
- AI åŸç”Ÿ â€‹ï¼šè§„èŒƒè‡ªåŠ¨è½¬åŒ–ä¸º AI å¯è¯»æ ¼å¼ï¼Œå®ç°äººæœºåä½œé—­ç¯

## Ultracite æ ¸å¿ƒèƒ½åŠ›

1. æé€Ÿå¼•æ“ï¼šBiome çš„ Rust å†…æ ¸ â€‹

   â€‹35 å€é€Ÿåº¦æå‡ â€‹ï¼šå¯¹æ¯” Prettierï¼ŒBiome çš„ Rust å®ç°è®©ä»£ç æ ¼å¼åŒ–ä»â€œå¯æ„ŸçŸ¥â€å˜ä¸ºâ€œæ— æ„Ÿå»¶è¿Ÿâ€ã€‚
   â€‹ ç°ä»£è§„åˆ™å†…ç½® â€‹ï¼šé»˜è®¤å¯ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼ã€React/Next.js æœ€ä½³å®è·µã€a11y å¯è®¿é—®æ€§æ£€æŸ¥ï¼Œè¦†ç›– 95% é¡¹ç›®éœ€æ±‚ã€‚

2. é›¶é…ç½®ä¸€ä½“åŒ– â€‹
   ä¸€æ¡å‘½ä»¤å®Œæˆå…¨æ ˆé…ç½®ï¼š

   ```bash
    npx ultracite init  # é€‰æ‹©åŒ…ç®¡ç†å™¨ã€ç¼–è¾‘å™¨ã€æ˜¯å¦å¯ç”¨Gité’©å­
   ```

   è‡ªåŠ¨å®Œæˆ â€‹ï¼š

   - ç”Ÿæˆ biome.jsonï¼ˆè§„åˆ™é›†ï¼‰ã€.vscode/settings.jsonï¼ˆç¼–è¾‘å™¨é›†æˆï¼‰
   - âš“ é…ç½® Husky æäº¤å‰é’©å­ + lint-staged å¢é‡æ£€æŸ¥
   - ğŸ¤– è¾“å‡º docs/ai-conventions.mdï¼ˆAI å¯è¯»è§„èŒƒæ–‡æ¡£ï¼‰

3. AI ä¼˜å…ˆçš„è®¾è®¡å“²å­¦ â€‹

   - MCP æœåŠ¡ â€‹ï¼šå°†ä»£ç è§„èŒƒè½¬åŒ–ä¸º API æ¥å£ï¼ŒAI å·¥å…·å®æ—¶è·å–è§„åˆ™ç»†èŠ‚ï¼ˆå¦‚è¡Œå®½ã€å‘½åçº¦å®šï¼‰ï¼Œæ— éœ€äººå·¥å¹²é¢„
   - â€‹ æ¶ˆé™¤æç¤ºè¯è°ƒè¯• â€‹ï¼šCopilot ç›´æ¥è¯»å–é¡¹ç›®è§„èŒƒï¼Œç”Ÿæˆä»£ç ä¸€æ¬¡é€šè¿‡ç‡æå‡ 60%

   ```json
   // é…ç½®ç¤ºä¾‹ï¼šAIå·¥å…·è¿æ¥MCPæœåŠ¡
   {
     "mcpServers": {
       "ultracite": {
         "command": "npx",
         "args": ["-y", "mcp-remote", "https://www.ultracite.ai/api/mcp/http"]
       }
     }
   }
   ```

## Ultraciteâ€‹ çš„è½åœ°

### æ–°é¡¹ç›®æ¥å…¥

æ–°é¡¹ç›®æ¥å…¥ï¼ˆ1 åˆ†é’Ÿå¯åŠ¨ï¼‰â€‹â€‹

```bash
npx ultracite init  # é€‰æ‹© React + TypeScript æ¨¡æ¿
```

æ‰§è¡Œå‘½ä»¤åï¼Œä¼šå…è®¸é€‰æ‹©ï¼š

- é¡¹ç›®ä¸­ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨
- éœ€è¦é…ç½®çš„ç¼–è¾‘å™¨ã€‚å¹¶æ ¹æ®é€‰æ‹©çš„ç¼–è¾‘å™¨ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼Œ ä¾‹å¦‚ç”Ÿæˆ .vscode/settings.json æ–‡ä»¶ï¼Œ å¹¶ç”ŸæˆåŸºäº biome è‡ªåŠ¨æ ¼å¼åŒ–çš„é…ç½®
- è¦åˆ›å»ºçš„ AI ç¼–è¾‘å™¨è§„åˆ™æ–‡ä»¶ã€‚ é€‰æ‹©é¡¹ç›®ä¸­ä½¿ç”¨çš„ AI å·¥å…·ï¼Œ åŸºäº AI å·¥å…·ç”Ÿæˆè§„åˆ™ï¼ˆç±»ä¼¼ Promptï¼‰,å¸®åŠ©æŒ‡å¯¼ AI åŠ©æ‰‹ç¼–å†™æ›´ä¼˜ã€æ›´ä¸€è‡´çš„ä»£ç ï¼Œéµå¾ªæœ€ä½³å®è·µ
- é€‰æ‹© githook å·¥å…·

ç”Ÿæˆé…ç½®åï¼Œæ‰€æœ‰ä»£ç ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œæäº¤æ—¶è§¦å‘æ ¡éªŒï¼ŒAI å·¥å…·æŒ‰è§„èŒƒç”Ÿæˆä»£ç 

### æ—§é¡¹ç›®æ”¹é€ 

> ç”±äº Ultraciteâ€‹ ä¼šé¢„è®¾ä¸€äº›é…ç½®ï¼Œ å½“å®Œæˆ Ultraciteâ€‹ å‡çº§åï¼Œ ä»£ç ä¸­ä¼šå‡ºç°ä¸€äº›æŠ¥é”™ï¼Œ ä¸ºäº†å‡å°‘ä»£ç æ”¹åŠ¨å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Œ å¯¹äºè¿™äº›æŠ¥é”™å¯ä»¥å…ˆä¸ç”¨é‚£ä¹ˆç€æ€¥ä¿®å¤

#### 1. ä» eslint + prettier è¿ç§»åˆ° Biome

> å‚è€ƒ [ä» ESLint å’Œ Prettier è¿ç§»](https://biomejs.dev/zh-cn/guides/migrate-eslint-prettier/)

ä»¥ä¸‹æ˜¯æ“ä½œæ­¥éª¤ï¼š

```bash
# 1. é¡¹ç›®ä¸­å®‰è£… biome ä¾èµ–
pnpm add --save-dev --save-exact @biomejs/biome

# 2. åˆå§‹åŒ– biomeï¼Œ ç”Ÿæˆ biome çš„é…ç½®æ–‡ä»¶
pnpm exec biome init

# 3. è¿ç§» eslint çš„é…ç½® (å…¼å®¹ flat é…ç½®å’Œ æ—§ç‰ˆæœ¬é…ç½®)
pnpm exec biome migrate eslint --write

# 4. è¿ç§»prettier çš„é…ç½®
pnpm exec biome migrate prettier --write
```

#### 2. ä» Biome å‡çº§åˆ° Ultraciteâ€‹

> [å‚è€ƒ](https://www.ultracite.ai/migrate/biome)

```bash
pnpm dlx ultracite init
```

#### 3. åˆ é™¤ç°æœ‰ eslintã€prettier ç›¸å…³ä¾èµ–å’Œé…ç½®

ä¸ºäº†é¿å…ç¼–è¾‘å™¨å¯¹ Biome å’Œ eslintã€prettier çš„é…ç½®å­˜åœ¨å†²çªï¼Œ éœ€è¦åˆ é™¤ç°æœ‰ eslintã€prettier çš„é…ç½®

1. ç§»å‡ºç›¸å…³ä¾èµ–

   ```bash
   # ç§»é™¤ ESLint åŠç›¸å…³åŒ…
   pnpm remove $(npm ls --depth=0 --json | jq -r '.dependencies | keys[]' | grep eslint)

   # ç§»é™¤ Prettier åŠç›¸å…³åŒ…
   npm uninstall $(npm ls --depth=0 --json | jq -r '.dependencies | keys[]' | grep prettier)
   ```

2. ç§»å‡ºç›¸å…³é…ç½®

ç§»é™¤ prettier çš„é…ç½®, ä¾‹å¦‚ï¼š.eslintrc.js  .eslintrc.json  .eslintrc.yml  .eslintignore  eslint.config.js

ç§»é™¤ prettier çš„é…ç½®, ä¾‹å¦‚ï¼š.prettierrc.js  .prettierrc.json  .prettierrc.yml .prettierignore   prettier.config.js

## Ultraciteâ€‹ çš„å®šä½å’Œæœªæ¥

### å®šä½ï¼š æ•´åˆè€…â€‹

Ultracite æ˜¯å¯¹ Biomeï¼ˆRust ç¼–å†™çš„ ESLint + Prettier æ›¿ä»£å“ï¼‰çš„ â€‹é«˜é˜¶å°è£…ï¼Œå°†ä»£ç æ£€æŸ¥ã€æ ¼å¼åŒ–ã€Git æµç¨‹ã€AI åä½œæ•´åˆä¸ºç»Ÿä¸€å·¥å…·é“¾ï¼Œæ¶ˆé™¤é…ç½®ç¢ç‰‡åŒ–é—®é¢˜ã€‚

- Biome çš„å¼ºåŒ–å±‚â€‹ï¼šç»§æ‰¿å…¶ Rust å†…æ ¸çš„æé€Ÿæ€§èƒ½ï¼ˆæ¯” Prettier å¿« 35 å€ï¼‰ï¼ŒåŒæ—¶é€šè¿‡é¢„è®¾è§„åˆ™å’Œè‡ªåŠ¨åŒ–æµç¨‹é™ä½ä½¿ç”¨é—¨æ§›
- å¼€ç®±å³ç”¨çš„â€œè§„èŒƒå³æœåŠ¡â€â€‹â€‹ï¼šé»˜è®¤è§„åˆ™è¦†ç›– TypeScript ä¸¥æ ¼æ¨¡å¼ã€React/Next.js æœ€ä½³å®è·µã€a11y å¯è®¿é—®æ€§æ£€æŸ¥ï¼Œæ»¡è¶³ 95% ç°ä»£é¡¹ç›®éœ€æ±‚
- ç”Ÿæ€å…¼å®¹ï¼š å¯¹ Svelteã€Solid ç­‰æ–°å…´æ¡†æ¶çš„æ”¯æŒï¼Œè¦†ç›– Node.js æœåŠ¡ç«¯è§„èŒƒï¼ˆå¦‚æ–‡ä»¶ç»“æ„ã€æ—¥å¿—æ ¼å¼ï¼‰ï¼Œå†…ç½®åˆè§„è§„åˆ™ï¼ˆGDPR æ•°æ®å®‰å…¨æ£€æµ‹ã€å®¡è®¡æ—¥å¿—è§„èŒƒï¼‰

### æœªæ¥ï¼š AI ååŒ

- MCP æœåŠ¡æ ‡å‡†åŒ–â€‹ï¼šUltracite å·²å®ç°å°†ä»£ç è§„èŒƒè½¬åŒ–ä¸º API æ¥å£ï¼ˆMCP æœåŠ¡ï¼‰ï¼Œä¾› Copilot ç­‰å·¥å…·å®æ—¶è¯»å–è§„åˆ™ç»†èŠ‚ã€‚æœªæ¥å°†æ‰©å±•ä¸º â€‹è¡Œä¸šåè®®ï¼Œæ”¯æŒ CodeLlamaã€GPT-Engineer ç­‰æ›´å¤š AI å·¥å…·ï¼Œé¿å…äººå·¥ç²˜è´´è§„åˆ™çš„ä½æ•ˆå¾ªç¯
- è§„èŒƒæ–‡æ¡£çš„åŠ¨æ€ç”Ÿæˆï¼šåŸºäºé¡¹ç›®è§„åˆ™è‡ªåŠ¨æ›´æ–°çš„ docs/ai-conventions.md æ–‡ä»¶ï¼Œå°†æˆä¸º AI çš„â€œé¡¹ç›®è®°å¿†åº“â€ï¼Œå®ç° â€‹äººæœºå…±äº«ä¸Šä¸‹æ–‡ï¼Œå‡å°‘ 60% çš„ç”Ÿæˆä»£ç ä¿®æ­£æˆæœ¬
  
## æ€»ç»“ï¼š å·¥å…·é“¾çš„ç»ˆæå½¢æ€æ˜¯â€œæ¶ˆå¤±â€â€‹â€‹

Ultracite çš„å®šä½ä¸æœªæ¥æ­ç¤ºäº†å‰ç«¯å¼€å‘çš„æœ¬è´¨è§„å¾‹ï¼šâ€‹é«˜æ•ˆå·¥å…·åº”å¦‚ç©ºæ°”èˆ¬å­˜åœ¨â€”â€”ä¸å¯æˆ–ç¼ºå´æ— éœ€æ„ŸçŸ¥ã€‚å…¶é€šè¿‡ â€‹é›¶é…ç½®ä¸€ä½“åŒ–â€‹ å’Œ â€‹AI åŸç”Ÿè®¾è®¡ï¼Œå°† Biome çš„å·¥ç¨‹ä»·å€¼è½¬åŒ–ä¸ºå¼€å‘è€…çš„åˆ›é€ åŠ›é‡Šæ”¾ï¼Œæœ€ç»ˆå®ç°å·¥å…·é“¾çš„â€œè‡ªæˆ‘æ¶ˆäº¡â€â€”â€”å½“å¼€å‘è€…ä¸å†ä¸ºé…ç½®åˆ†å¿ƒæ—¶ï¼Œå·¥å…·ä¾¿å®Œæˆäº†ç»ˆæä½¿å‘½ã€‚

```bash
npx ultracite init # è®©å·¥å…·å›å½’æœåŠ¡æœ¬è´¨ï¼Œåˆ›é€ å›å½’æ ¸å¿ƒä»·å€¼
```
